<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pavin & Bhadra's Wellness Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 10px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #2c3e50, #3498db);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .nav-tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 2px solid #e9ecef;
        }
        
        .nav-tab {
            flex: 1;
            padding: 15px 20px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
        }
        
        .nav-tab.active {
            background: white;
            border-bottom-color: #3498db;
            color: #3498db;
        }
        
        .nav-tab:hover {
            background: #e9ecef;
        }
        
        .tab-content {
            display: none;
            padding: 30px;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* Dashboard Styles */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .dashboard-card {
            background: linear-gradient(135deg, #f8f9fa, #ffffff);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
            border-left: 5px solid;
            transition: transform 0.3s;
        }
        
        .dashboard-card:hover {
            transform: translateY(-5px);
        }
        
        .dashboard-card.pavin {
            border-left-color: #3498db;
        }
        
        .dashboard-card.bhadra {
            border-left-color: #e74c3c;
        }
        
        .dashboard-card.combined {
            border-left-color: #2ecc71;
        }
        
        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .card-icon {
            font-size: 24px;
            margin-right: 10px;
        }
        
        .card-title {
            font-size: 18px;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .card-value {
            font-size: 36px;
            font-weight: bold;
            color: #3498db;
            margin-bottom: 5px;
        }
        
        .card-subtitle {
            color: #7f8c8d;
            font-size: 14px;
        }
        
        .progress-ring {
            width: 120px;
            height: 120px;
            margin: 0 auto;
        }
        
        .progress-ring circle {
            fill: none;
            stroke-width: 8;
        }
        
        .progress-ring .progress-background {
            stroke: #e9ecef;
        }
        
        .progress-ring .progress-bar {
            stroke: #3498db;
            stroke-linecap: round;
            transition: stroke-dasharray 0.5s;
        }
        
        .chart-container {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .weekly-chart {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 15px;
            margin-top: 20px;
        }
        
        .day-column {
            text-align: center;
        }
        
        .day-label {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .day-bar {
            height: 150px;
            background: #e9ecef;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }
        
        .day-fill {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, #3498db, #5dade2);
            border-radius: 0 0 10px 10px;
            transition: height 0.5s ease;
        }
        
        .day-percentage {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-weight: bold;
            color: white;
            text-shadow: 0 1px 2px rgba(0,0,0,0.5);
        }
        
        /* Routine Tracker Styles */
        .controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s;
        }
        
        .person-btn {
            background: #17a2b8;
            color: white;
        }
        
        .person-btn.active {
            background: #dc3545;
            transform: scale(1.05);
        }
        
        .day-btn {
            background: #6c757d;
            color: white;
        }
        
        .day-btn.active {
            background: #28a745;
            transform: translateY(-2px);
        }
        
        .routine-section {
            margin-bottom: 25px;
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            border-left: 5px solid #3498db;
        }
        
        .time-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .time-badge {
            background: #3498db;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            margin-right: 15px;
        }
        
        .activity {
            display: flex;
            align-items: center;
            background: white;
            padding: 15px;
            margin: 8px 0;
            border-radius: 10px;
            cursor: pointer;
            border-left: 4px solid #ddd;
            transition: all 0.3s;
        }
        
        .activity:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .activity.completed {
            background: #d4edda;
            border-left-color: #28a745;
        }
        
        .activity.completed .activity-text {
            text-decoration: line-through;
            opacity: 0.7;
        }
        
        .activity input {
            margin-right: 15px;
            transform: scale(1.3);
        }
        
        .activity-text {
            flex: 1;
            font-size: 16px;
        }
        
        .activity-points {
            background: #28a745;
            color: white;
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 13px;
            font-weight: bold;
        }
        
        /* Analysis Styles */
        .analysis-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .insight-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .insight-title {
            font-size: 18px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        
        .insight-title::before {
            content: "📊";
            margin-right: 10px;
        }
        
        .streak-display {
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            border-radius: 15px;
            margin: 15px 0;
        }
        
        .streak-number {
            font-size: 48px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .streak-label {
            font-size: 18px;
            opacity: 0.9;
        }
        
        .comparison-bars {
            margin: 20px 0;
        }
        
        .comparison-bar {
            display: flex;
            align-items: center;
            margin: 15px 0;
        }
        
        .comparison-label {
            width: 80px;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .comparison-track {
            flex: 1;
            height: 12px;
            background: #e9ecef;
            border-radius: 6px;
            margin: 0 15px;
            overflow: hidden;
        }
        
        .comparison-fill {
            height: 100%;
            border-radius: 6px;
            transition: width 0.5s ease;
        }
        
        .comparison-fill.pavin {
            background: linear-gradient(to right, #3498db, #5dade2);
        }
        
        .comparison-fill.bhadra {
            background: linear-gradient(to right, #e74c3c, #ec7063);
        }
        
        .comparison-value {
            width: 50px;
            text-align: right;
            font-weight: bold;
            color: #2c3e50;
        }
        
        /* Goals Section */
        .goals-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .goal-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border-top: 4px solid #3498db;
        }
        
        .goal-progress {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
            margin: 15px 0;
        }
        
        .goal-fill {
            height: 100%;
            background: #3498db;
            border-radius: 4px;
            transition: width 0.5s ease;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 10px;
            }
            
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .weekly-chart {
                grid-template-columns: repeat(4, 1fr);
                gap: 10px;
            }
            
            .day-bar {
                height: 100px;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .nav-tabs {
                flex-wrap: wrap;
            }
            
            .nav-tab {
                min-width: 120px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>💪 Pavin & Bhadra's Wellness Dashboard</h1>
            <p>Track, Analyze, and Achieve Your Health Goals Together</p>
        </div>
        
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showTab('dashboard')">📊 Dashboard</button>
            <button class="nav-tab" onclick="showTab('routine')">📋 Daily Routine</button>
            <button class="nav-tab" onclick="showTab('analysis')">📈 Analysis</button>
            <button class="nav-tab" onclick="showTab('goals')">🎯 Goals</button>
        </div>
        
        <!-- Dashboard Tab -->
        <div id="dashboard" class="tab-content active">
            <div class="dashboard-grid">
                <div class="dashboard-card pavin">
                    <div class="card-header">
                        <span class="card-icon">👨</span>
                        <span class="card-title">Pavin's Progress</span>
                    </div>
                    <div class="card-value" id="pavinScore">0%</div>
                    <div class="card-subtitle">Weekly Average</div>
                </div>
                
                <div class="dashboard-card bhadra">
                    <div class="card-header">
                        <span class="card-icon">👩</span>
                        <span class="card-title">Bhadra's Progress</span>
                    </div>
                    <div class="card-value" id="bhadraScore">0%</div>
                    <div class="card-subtitle">Weekly Average</div>
                </div>
                
                <div class="dashboard-card combined">
                    <div class="card-header">
                        <span class="card-icon">💑</span>
                        <span class="card-title">Combined Score</span>
                    </div>
                    <div class="card-value" id="combinedScore">0%</div>
                    <div class="card-subtitle">Team Progress</div>
                </div>
                
                <div class="dashboard-card">
                    <div class="card-header">
                        <span class="card-icon">🔥</span>
                        <span class="card-title">Current Streak</span>
                    </div>
                    <div class="card-value" id="currentStreak">0</div>
                    <div class="card-subtitle">Days</div>
                </div>
            </div>
            
            <div class="chart-container">
                <h3>📊 Weekly Progress Overview</h3>
                <div class="weekly-chart" id="weeklyChart">
                    <!-- Chart will be generated here -->
                </div>
            </div>
            
            <div class="chart-container">
                <h3>🏆 Daily Completion Rates</h3>
                <div id="completionChart">
                    <!-- Completion chart -->
                </div>
            </div>
        </div>
        
        <!-- Routine Tab -->
        <div id="routine" class="tab-content">
            <div class="controls">
                <button class="person-btn active" onclick="showPerson('pavin')">👨 Pavin</button>
                <button class="person-btn" onclick="showPerson('bhadra')">👩 Bhadra</button>
            </div>
            
            <div class="controls">
                <button class="day-btn" onclick="showDay('monday')">Monday</button>
                <button class="day-btn" onclick="showDay('tuesday')">Tuesday</button>
                <button class="day-btn" onclick="showDay('wednesday')">Wednesday</button>
                <button class="day-btn" onclick="showDay('thursday')">Thursday</button>
                <button class="day-btn" onclick="showDay('friday')">Friday</button>
                <button class="day-btn" onclick="showDay('saturday')">Saturday</button>
                <button class="day-btn" onclick="showDay('sunday')">Sunday</button>
            </div>
            
            <div id="routineContent">
                <!-- Routine will be loaded here -->
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button class="btn" onclick="resetDay()" style="background: #dc3545; color: white; margin: 0 10px;">🔄 Reset Today</button>
                <button class="btn" onclick="exportData()" style="background: #28a745; color: white; margin: 0 10px;">📊 Export Data</button>
            </div>
        </div>
        
        <!-- Analysis Tab -->
        <div id="analysis" class="tab-content">
            <div class="analysis-grid">
                <div class="insight-card">
                    <div class="insight-title">Streak Analysis</div>
                    <div class="streak-display">
                        <div class="streak-number" id="streakDays">0</div>
                        <div class="streak-label">Day Streak</div>
                    </div>
                    <p id="streakInsight">Keep going! Consistency is key to building lasting habits.</p>
                </div>
                
                <div class="insight-card">
                    <div class="insight-title">Performance Comparison</div>
                    <div class="comparison-bars">
                        <div class="comparison-bar">
                            <div class="comparison-label">Pavin</div>
                            <div class="comparison-track">
                                <div class="comparison-fill pavin" id="pavinComparison" style="width: 0%"></div>
                            </div>
                            <div class="comparison-value" id="pavinComparisonValue">0%</div>
                        </div>
                        <div class="comparison-bar">
                            <div class="comparison-label">Bhadra</div>
                            <div class="comparison-track">
                                <div class="comparison-fill bhadra" id="bhadraComparison" style="width: 0%"></div>
                            </div>
                            <div class="comparison-value" id="bhadraComparisonValue">0%</div>
                        </div>
                    </div>
                </div>
                
                <div class="insight-card">
                    <div class="insight-title">Weekly Insights</div>
                    <div id="weeklyInsights">
                        <p>Track for a full week to see detailed insights!</p>
                    </div>
                </div>
                
                <div class="insight-card">
                    <div class="insight-title">Best Performing Days</div>
                    <div id="bestDays">
                        <p>Complete more activities to see your strongest days!</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Goals Tab -->
        <div id="goals" class="tab-content">
            <h2 style="text-align: center; margin-bottom: 30px; color: #2c3e50;">🎯 Your Wellness Goals</h2>
            
            <div class="goals-grid">
                <div class="goal-card">
                    <h3>💪 Fitness Goals</h3>
                    <p><strong>Pavin:</strong> Lean athletic muscular build</p>
                    <p><strong>Bhadra:</strong> Athletic and strong physique</p>
                    <div class="goal-progress">
                        <div class="goal-fill" id="fitnessProgress" style="width: 0%"></div>
                    </div>
                    <small id="fitnessGoalText">Complete workout activities consistently</small>
                </div>
                
                <div class="goal-card">
                    <h3>🧘 Wellness Routine</h3>
                    <p>Daily meditation and mindfulness practices</p>
                    <div class="goal-progress">
                        <div class="goal-fill" id="wellnessProgress" style="width: 0%"></div>
                    </div>
                    <small id="wellnessGoalText">Maintain daily meditation streak</small>
                </div>
                
                <div class="goal-card">
                    <h3>👨‍👩‍👧‍👦 Family Preparation</h3>
                    <p>Building healthy habits before baby arrives</p>
                    <div class="goal-progress">
                        <div class="goal-fill" id="familyProgress" style="width: 0%"></div>
                    </div>
                    <small id="familyGoalText">Establish sustainable routines together</small>
                </div>
                
                <div class="goal-card">
                    <h3>🏠 Retirement Planning</h3>
                    <p>Health foundation for Kerala retirement (age 50-55)</p>
                    <div class="goal-progress">
                        <div class="goal-fill" id="retirementProgress" style="width: 0%"></div>
                    </div>
                    <small id="retirementGoalText">Long-term health investment</small>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Enhanced routine data with all days
        const routines = {
            pavin: {
                monday: {
                    "5:30 AM": [
                        {text: "Wake up & Hydrate (500ml water)", points: 2, category: "wellness"},
                        {text: "10 min meditation", points: 3, category: "wellness"}
                    ],
                    "5:45 AM": [
                        {text: "Strength training (45 min - Upper body)", points: 7, category: "fitness"},
                        {text: "Post-workout protein", points: 2, category: "nutrition"}
                    ],
                    "6:30 AM": [
                        {text: "Quick shower & grooming", points: 2, category: "hygiene"},
                        {text: "Healthy breakfast", points: 3, category: "nutrition"}
                    ],
                    "7:00 AM": [
                        {text: "Leave for work on time", points: 2, category: "routine"},
                        {text: "Positive mindset for day", points: 1, category: "wellness"}
                    ],
                    "12:00 PM": [
                        {text: "Nutritious lunch at work", points: 3, category: "nutrition"},
                        {text: "10 min walk during break", points: 2, category: "fitness"}
                    ],
                    "6:10 PM": [
                        {text: "Return home safely", points: 1, category: "routine"},
                        {text: "Change clothes & freshen up", points: 1, category: "hygiene"}
                    ],
                    "6:30 PM": [
                        {text: "20 min evening walk/stretching", points: 3, category: "fitness"},
                        {text: "Hydration check (2L total)", points: 2, category: "wellness"}
                    ],
                    "7:00 PM": [
                        {text: "Dinner preparation with Bhadra", points: 3, category: "family"},
                        {text: "Quality dinner together", points: 2, category: "family"}
                    ],
                    "8:30 PM": [
                        {text: "Personal time/hobbies", points: 2, category: "wellness"},
                        {text: "Plan next day", points: 2, category: "routine"}
                    ],
                    "9:30 PM": [
                        {text: "Wind down routine", points: 2, category: "wellness"},
                        {text: "Sleep by 10:00 PM", points: 3, category: "wellness"}
                    ]
                },
                tuesday: {
                    "5:30 AM": [
                        {text: "Wake up & Hydrate", points: 2, category: "wellness"},
                        {text: "10 min meditation", points: 3, category: "wellness"}
                    ],
                    "5:45 AM": [
                        {text: "Cardio workout (45 min - HIIT/Running)", points: 7, category: "fitness"},
                        {text: "Post-workout hydration", points: 2, category: "wellness"}
                    ],
                    "6:30 AM": [
                        {text: "Quick shower & grooming", points: 2, category: "hygiene"},
                        {text: "Healthy breakfast", points: 3, category: "nutrition"}
                    ],
                    "7:00 AM": [
                        {text: "Leave for work on time", points: 2, category: "routine"},
                        {text: "Positive mindset", points: 1, category: "wellness"}
                    ],
                    "12:00 PM": [
                        {text: "Nutritious lunch", points: 3, category: "nutrition"},
                        {text: "10 min walk", points: 2, category: "fitness"}
                    ],
                    "6:10 PM": [
                        {text: "Return home", points: 1, category: "routine"},
                        {text: "Change & freshen up", points: 1, category: "hygiene"}
                    ],
                    "6:30 PM": [
                        {text: "20 min stretching/yoga", points: 3, category: "fitness"},
                        {text: "Hydration check", points: 2, category: "wellness"}
                    ],
                    "7:00 PM": [
                        {text: "Dinner with Bhadra", points: 3, category: "family"},
                        {text: "Discuss day's events", points: 2, category: "family"}
                    ],
                    "8:30 PM": [
                        {text: "Learning/reading", points: 3, category: "wellness"},
                        {text: "Tomorrow's preparation", points: 2, category: "routine"}
                    ],
                    "9:30 PM": [
                        {text: "Wind down", points: 2, category: "wellness"},
                        {text: "Sleep by 10:00 PM", points: 3, category: "wellness"}
                    ]
                }
            },
            bhadra: {
                monday: {
                    "5:30 AM": [
                        {text: "Wake up & Hydrate", points: 2, category: "wellness"},
                        {text: "10 min meditation/yoga", points: 3, category: "wellness"}
                    ],
                    "5:45 AM": [
                        {text: "Bodyweight workout (45 min)", points: 7, category: "fitness"},
                        {text: "Post-workout hydration", points: 2, category: "wellness"}
                    ],
                    "6:30 AM": [
                        {text: "Shower & grooming", points: 2, category: "hygiene"},
                        {text: "Healthy breakfast", points: 3, category: "nutrition"}
                    ],
                    "7:00 AM": [
                        {text: "Leave for work (company transport)", points: 2, category: "routine"},
                        {text: "Positive mindset for week", points: 1, category: "wellness"}
                    ],
                    "12:00 PM": [
                        {text: "Nutritious lunch at work", points: 3, category: "nutrition"},
                        {text: "10 min walk/stretching", points: 2, category: "fitness"}
                    ],
                    "6:00 PM": [
                        {text: "Return home safely", points: 1, category: "routine"},
                        {text: "Change into comfortable clothes", points: 1, category: "hygiene"}
                    ],
                    "6:30 PM": [
                        {text: "20 min yoga/stretching", points: 3, category: "fitness"},
                        {text: "Hydration check", points: 2, category: "wellness"}
                    ],
                    "7:00 PM": [
                        {text: "Dinner preparation with Pavin", points: 3, category: "family"},
                        {text: "Quality dinner together", points: 2, category: "family"}
                    ],
                    "8:30 PM": [
                        {text: "Personal time/reading", points: 2, category: "wellness"},
                        {text: "Plan next day", points: 2, category: "routine"}
                    ],
                    "9:30 PM": [
                        {text: "Wind down routine", points: 2, category: "wellness"},
                        {text: "Sleep by 10:00 PM", points: 3, category: "wellness"}
                    ]
                },
                tuesday: {
                    "5:30 AM": [
                        {text: "Wake up & Hydrate", points: 2, category: "wellness"},
                        {text: "10 min meditation", points: 3, category: "wellness"}
                    ],
                    "5:45 AM": [
                        {text: "Light cardio + yoga (45 min)", points: 7, category: "fitness"},
                        {text: "Post-workout stretch", points: 2, category: "fitness"}
                    ],
                    "6:30 AM": [
                        {text: "Shower & self-care", points: 2, category: "hygiene"},
                        {text: "Healthy breakfast", points: 3, category: "nutrition"}
                    ],
                    "7:00 AM": [
                        {text: "Commute to work", points: 2, category: "routine"},
                        {text: "Positive energy", points: 1, category: "wellness"}
                    ],
                    "12:00 PM": [
                        {text: "Nutritious lunch", points: 3, category: "nutrition"},
                        {text: "Brief walk/fresh air", points: 2, category: "fitness"}
                    ],
                    "6:00 PM": [
                        {text: "Return home", points: 1, category: "routine"},
                        {text: "Change & freshen up", points: 1, category: "hygiene"}
                    ],
                    "6:30 PM": [
                        {text: "Evening pilates/stretching", points: 3, category: "fitness"},
                        {text: "Hydration check", points: 2, category: "wellness"}
                    ],
                    "7:00 PM": [
                        {text: "Dinner with Pavin", points: 3, category: "family"},
                        {text: "Share day's experiences", points: 2, category: "family"}
                    ],
                    "8:30 PM": [
                        {text: "Learning/skill development", points: 3, category: "wellness"},
                        {text: "Prepare for tomorrow", points: 2, category: "routine"}
                    ],
                    "9:30 PM": [
                        {text: "Wind down", points: 2, category: "wellness"},
                        {text: "Sleep by 10:00 PM", points: 3, category: "wellness"}
                    ]
                }
            }
        };

        // Copy routines to other days
        const days = ['wednesday', 'thursday', 'friday', 'saturday', 'sunday'];
        days.forEach(day => {
            routines.pavin[day] = JSON.parse(JSON.stringify(routines.pavin.monday));
            routines.bhadra[day] = JSON.parse(JSON.stringify(routines.bhadra.monday));
        });

        // Customize weekend routines
        routines.pavin.sunday = {
            "6:00 AM": [
                {text: "Wake up & Hydrate (500ml water)", points: 2, category: "wellness"},
                {text: "10 min meditation/breathing", points: 3, category: "wellness"},
                {text: "Check weight & measurements", points: 1, category: "wellness"}
            ],
            "6:30 AM": [
                {text: "Extended workout (1 hour - Full body)", points: 8, category: "fitness"},
                {text: "Protein shake post-workout", points: 2, category: "nutrition"}
            ],
            "8:00 AM": [
                {text: "Shower & grooming", points: 2, category: "hygiene"},
                {text: "Healthy breakfast (protein + carbs)", points: 3, category: "nutrition"}
            ],
            "9:30 AM": [
                {text: "Weekly meal prep (2 hours)", points: 5, category: "family"},
                {text: "Grocery shopping", points: 2, category: "routine"}
            ],
            "1:00 PM": [
                {text: "Nutritious lunch", points: 3, category: "nutrition"},
                {text: "30 min rest/nap", points: 2, category: "wellness"}
            ],
            "3:00 PM": [
                {text: "Quality time with Bhadra", points: 4, category: "family"},
                {text: "Plan upcoming week", points: 3, category: "routine"}
            ],
            "6:00 PM": [
                {text: "30 min walk together", points: 3, category: "fitness"},
                {text: "Hydration check (2L total)", points: 2, category: "wellness"}
            ],
            "7:30 PM": [
                {text: "Dinner preparation & eating", points: 3, category: "family"},
                {text: "Family video call (India)", points: 2, category: "family"}
            ],
            "9:00 PM": [
                {text: "Learning/skill development", points: 3, category: "wellness"},
                {text: "Prepare clothes for week", points: 1, category: "routine"}
            ],
            "10:00 PM": [
                {text: "Wind down routine", points: 2, category: "wellness"},
                {text: "Sleep by 10:30 PM", points: 3, category: "wellness"}
            ]
        };

        // Global variables
        let currentPerson = 'pavin';
        let currentDay = 'monday';
        let completedTasks = {};

        // Load saved data
        function loadData() {
            const saved = localStorage.getItem('wellnessData');
            if (saved) {
                completedTasks = JSON.parse(saved);
            }
        }

        // Save data
        function saveData() {
            localStorage.setItem('wellnessData', JSON.stringify(completedTasks));
        }

        // Tab management
        function showTab(tabName) {
            document.querySelectorAll('.nav-tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById(tabName).classList.add('active');
            
            if (tabName === 'dashboard') {
                updateDashboard();
            } else if (tabName === 'analysis') {
                updateAnalysis();
            } else if (tabName === 'goals') {
                updateGoals();
            }
        }

        // Show person's routine
        function showPerson(person) {
            currentPerson = person;
            document.querySelectorAll('.person-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            displayRoutine();
        }

        // Show day's routine
        function showDay(day) {
            currentDay = day;
            document.querySelectorAll('.day-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            displayRoutine();
        }

        // Display the routine
        function displayRoutine() {
            const routine = routines[currentPerson][currentDay];
            const container = document.getElementById('routineContent');
            
            if (!routine) {
                container.innerHTML = '<p>No routine found for this day.</p>';
                return;
            }

            let html = '';
            
            Object.keys(routine).forEach(time => {
                html += `
                    <div class="routine-section">
                        <div class="time-header">
                            <div class="time-badge">${time}</div>
                            <h3>${time} Schedule</h3>
                        </div>
                `;
                
                routine[time].forEach((activity, index) => {
                    const taskId = `${currentPerson}-${currentDay}-${time}-${index}`;
                    const isCompleted = completedTasks[taskId] || false;
                    
                    html += `
                        <div class="activity ${isCompleted ? 'completed' : ''}" onclick="toggleTask('${taskId}')">
                            <input type="checkbox" ${isCompleted ? 'checked' : ''} readonly>
                            <span class="activity-text">${activity.text}</span>
                            <span class="activity-points">${activity.points}pts</span>
                        </div>
                    `;
                });
                
                html += '</div>';
            });
            
            container.innerHTML = html;
        }

        // Toggle task completion
        function toggleTask(taskId) {
            completedTasks[taskId] = !completedTasks[taskId];
            saveData();
            displayRoutine();
            updateDashboard();
        }

        // Calculate person's score for a specific day
        function calculateDayScore(person, day) {
            const routine = routines[person][day];
            let totalPoints = 0;
            let earnedPoints = 0;

            Object.keys(routine).forEach(time => {
                routine[time].forEach((activity, index) => {
                    const taskId = `${person}-${day}-${time}-${index}`;
                    totalPoints += activity.points;
                    
                    if (completedTasks[taskId]) {
                        earnedPoints += activity.points;
                    }
                });
            });

            return totalPoints > 0 ? Math.round((earnedPoints / totalPoints) * 100) : 0;
        }

        // Calculate weekly average
        function calculateWeeklyAverage(person) {
            const days = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'];
            let totalScore = 0;
            let daysWithData = 0;

            days.forEach(day => {
                const dayScore = calculateDayScore(person, day);
                if (dayScore > 0) {
                    totalScore += dayScore;
                    daysWithData++;
                }
            });

            return daysWithData > 0 ? Math.round(totalScore / daysWithData) : 0;
        }

        // Update dashboard
        function updateDashboard() {
            const pavinWeekly = calculateWeeklyAverage('pavin');
            const bhadraWeekly = calculateWeeklyAverage('bhadra');
            const combinedScore = Math.round((pavinWeekly + bhadraWeekly) / 2);

            document.getElementById('pavinScore').textContent = pavinWeekly + '%';
            document.getElementById('bhadraScore').textContent = bhadraWeekly + '%';
            document.getElementById('combinedScore').textContent = combinedScore + '%';

            // Update streak
            const streak = calculateStreak();
            document.getElementById('currentStreak').textContent = streak;

            // Update weekly chart
            updateWeeklyChart();
            updateCompletionChart();
        }

        // Update weekly chart
        function updateWeeklyChart() {
            const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];
            const dayKeys = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'];
            const container = document.getElementById('weeklyChart');

            let html = '';
            days.forEach((day, index) => {
                const pavinScore = calculateDayScore('pavin', dayKeys[index]);
                const bhadraScore = calculateDayScore('bhadra', dayKeys[index]);
                const avgScore = Math.round((pavinScore + bhadraScore) / 2);

                html += `
                    <div class="day-column">
                        <div class="day-label">${day}</div>
                        <div class="day-bar">
                            <div class="day-fill" style="height: ${avgScore}%"></div>
                            <div class="day-percentage">${avgScore}%</div>
                        </div>
                    </div>
                `;
            });

            container.innerHTML = html;
        }

        // Update completion chart
        function updateCompletionChart() {
            const container = document.getElementById('completionChart');
            const days = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'];
            
            let html = '<div style="display: flex; justify-content: space-around; margin-top: 20px;">';
            
            days.forEach(day => {
                const pavinScore = calculateDayScore('pavin', day);
                const bhadraScore = calculateDayScore('bhadra', day);
                
                html += `
                    <div style="text-align: center;">
                        <div style="font-weight: bold; margin-bottom: 10px;">${day.charAt(0).toUpperCase() + day.slice(1)}</div>
                        <div style="margin-bottom: 5px;">👨 ${pavinScore}%</div>
                        <div>👩 ${bhadraScore}%</div>
                    </div>
                `;
            });
            
            html += '</div>';
            container.innerHTML = html;
        }

        // Calculate streak
        function calculateStreak() {
            const days = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];
            let streak = 0;
            
            for (let i = 0; i < 30; i++) {
                const date = new Date();
                date.setDate(date.getDate() - i);
                const dayName = days[date.getDay()];
                
                const pavinScore = calculateDayScore('pavin', dayName);
                const bhadraScore = calculateDayScore('bhadra', dayName);
                const avgScore = (pavinScore + bhadraScore) / 2;
                
                if (avgScore >= 70) {
                    streak++;
                } else {
                    break;
                }
            }
            
            return streak;
        }

        // Update analysis
        function updateAnalysis() {
            const streak = calculateStreak();
            document.getElementById('streakDays').textContent = streak;
            
            const pavinWeekly = calculateWeeklyAverage('pavin');
            const bhadraWeekly = calculateWeeklyAverage('bhadra');
            
            document.getElementById('pavinComparison').style.width = pavinWeekly + '%';
            document.getElementById('bhadraComparison').style.width = bhadraWeekly + '%';
            document.getElementById('pavinComparisonValue').textContent = pavinWeekly + '%';
            document.getElementById('bhadraComparisonValue').textContent = bhadraWeekly + '%';

            // Update insights
            let insight = "Keep going! Consistency is key to building lasting habits.";
            if (streak >= 7) insight = "Amazing! You're building strong habits together.";
            if (streak >= 14) insight = "Incredible streak! You're on the path to lasting change.";
            document.getElementById('streakInsight').textContent = insight;

            // Weekly insights
            const weeklyInsightsEl = document.getElementById('weeklyInsights');
            if (pavinWeekly > 0 || bhadraWeekly > 0) {
                let insights = [];
                if (pavinWeekly > bhadraWeekly) {
                    insights.push("💪 Pavin is leading this week - great job!");
                } else if (bhadraWeekly > pavinWeekly) {
                    insights.push("🌟 Bhadra is leading this week - excellent!");
                } else {
                    insights.push("🤝 Perfect teamwork - you're both at the same level!");
                }
                
                if ((pavinWeekly + bhadraWeekly) / 2 >= 80) {
                    insights.push("🏆 Outstanding combined performance!");
                }
                
                weeklyInsightsEl.innerHTML = insights.map(insight => `<p>${insight}</p>`).join('');
            }
        }

        // Update goals
        function updateGoals() {
            const pavinWeekly = calculateWeeklyAverage('pavin');
            const bhadraWeekly = calculateWeeklyAverage('bhadra');
            const combined = (pavinWeekly + bhadraWeekly) / 2;

            // Calculate category-specific progress
            const fitnessProgress = Math.min(combined * 1.2, 100); // Fitness weighted higher
            const wellnessProgress = combined;
            const familyProgress = Math.min(combined * 0.8, 100); // Family activities
            const retirementProgress = Math.min(combined * 0.6, 100); // Long-term goal

            document.getElementById('fitnessProgress').style.width = fitnessProgress + '%';
            document.getElementById('wellnessProgress').style.width = wellnessProgress + '%';
            document.getElementById('familyProgress').style.width = familyProgress + '%';
            document.getElementById('retirementProgress').style.width = retirementProgress + '%';

            // Update goal texts
            document.getElementById('fitnessGoalText').textContent = 
                fitnessProgress >= 80 ? "Excellent fitness progress!" : "Keep up the workout routine!";
            document.getElementById('wellnessGoalText').textContent = 
                wellnessProgress >= 70 ? "Great wellness habits!" : "Focus on daily meditation and hydration";
            document.getElementById('familyGoalText').textContent = 
                familyProgress >= 60 ? "Strong family preparation!" : "Spend more quality time together";
            document.getElementById('retirementGoalText').textContent = 
                retirementProgress >= 50 ? "Building healthy foundation!" : "Consistency leads to long-term health";
        }

        // Reset day
        function resetDay() {
            if (confirm(`Reset all tasks for ${currentPerson}'s ${currentDay}?`)) {
                const routine = routines[currentPerson][currentDay];
                Object.keys(routine).forEach(time => {
                    routine[time].forEach((activity, index) => {
                        const taskId = `${currentPerson}-${currentDay}-${time}-${index}`;
                        delete completedTasks[taskId];
                    });
                });
                saveData();
                displayRoutine();
                updateDashboard();
            }
        }

        // Export data
        function exportData() {
            const data = {
                completedTasks: completedTasks,
                exportDate: new Date().toISOString(),
                pavinWeeklyAverage: calculateWeeklyAverage('pavin'),
                bhadraWeeklyAverage: calculateWeeklyAverage('bhadra'),
                currentStreak: calculateStreak()
            };

            const dataStr = JSON.stringify(data, null, 2);
            const blob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `pavin-bhadra-wellness-data-${new Date().toISOString().split('T')[0]}.json`;
            a.click();
        }

        // Initialize
        function init() {
            loadData();
            
            // Set today as active day
            const today = new Date().toLocaleDateString('en-US', { weekday: 'lowercase' });
            if (routines.pavin[today]) {
                currentDay = today;
                const todayBtn = document.querySelector(`button[onclick="showDay('${today}')"]`);
                if (todayBtn) todayBtn.classList.add('active');
            } else {
                document.querySelector(`button[onclick="showDay('monday')"]`).classList.add('active');
            }
            
            displayRoutine();
            updateDashboard();
        }

        // Start the app
        init();
    </script>
</body>
</html>
